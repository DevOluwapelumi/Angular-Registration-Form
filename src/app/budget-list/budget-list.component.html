<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">

<div class="container">
  <div class="jumbotron-fluid text-center">
    <div class="container">
      <div class="top">
        <div class="budget">
          <div class="budget__title">

            <h1 class="display-4 pt-3">
              <b style="color: blue;">Oluwapelumi's</b> Budget <b style="color: green;"> in </b>   <span class="budget__title-month">{{ month }} <b style="color: red;">2023</b> </span>:
            </h1>

            <div class="mt-3 mb-5 budget__value">{{ availableBudget | currency:'USD':'symbol':'1.2-2' }}</div>

            <div class="row">
              <div class="col-12 col-sm-10 col-md-8 col-lg-6 my-2 budget__income">
                <div class="row">
                  <div class="col-4 budget__income-text">Income</div>
                  <div class="col-5 budget__income-value">{{ totalIncome | currency:'USD':'symbol':'1.2-2' }}</div>
                  <div class="col-3 budget__income-percentage">&nbsp;</div>
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-12 col-sm-10 col-md-8 col-lg-6 my-1 budget__expenses">
                <div class="row">
                  <div class="col-4 budget__expenses-text">Expenses</div>
                  <div class="col-5 budget__expenses-value">{{ totalExpenses | currency:'USD':'symbol':'1.2-2' }}</div>
                  <div class="col-2 budget__expenses-percentage">{{ expensesPercentage }}%</div>
                </div>
              </div>
            </div>

          </div>
          <!-- budget__title -->
        </div>
        <!-- budget -->
      </div>
      <!-- top -->
    </div>
    <!-- container -->
  </div>
  <!-- jumbotron-fluid -->

  <div class="bottom mt-3">
    <div class="add">
      <div class="container">
        <div class="row text-center add__container">

          <div class="col-12 col-sm-6 input-group my-3">
            <select class="col-2 col-sm-3 col-md-2 custom-select add__type" [(ngModel)]="transactionType">
              <option value="inc" style="color: green;" selected><b>Income (+) </b></option>
              <option value="exp" style="color: red;"><b>Expense (-) </b></option>
            </select>
            <input type="text" class="col-10 col-sm-9 col-md-10 form-control add__description" placeholder="Add description" [(ngModel)]="transactionDescription">
          </div>

          <div class="col-12 col-sm-6 input-group my-3">
            <input type="number" class="form-control add__value" placeholder="Value" [(ngModel)]="transactionValue">
            <div class="input-group-append">
              <button class="btn add__btn" type="button" (click)="addTransaction()">
                <i class="fas fa-check-circle"></i>
              </button>
            </div>
          </div>

        </div>
        <!-- add__container -->
      </div>
      <!-- container -->
    </div>
    <!-- add -->

    <div class="row mt-5 list">
      <div class="col-12 col-lg-6 my-5 income">
        <h2 class="income__title">Income</h2>
        <div class="container income__list">
          <div *ngFor="let incomeItem of incomeList" class="row">
            <div class="col-4">{{ incomeItem.description }}</div>
            <div class="col-5">{{ incomeItem.value | currency:'USD':'symbol':'1.2-2' }}</div>
            <div class="col-3">&nbsp;</div>
            <div class="col-1 text-right item__delete"> <button class="btn item__delete-btn"> <i class="fas fa-trash"></i> </button> </div>
          </div>
        </div>
      </div>

      <div class="col-12 col-lg-6 my-5 expenses">
        <h2 class="expenses__title">Expenses</h2>
        <div class="container expenses__list">
          <div *ngFor="let expenseItem of expenseList" class="row">
            <div class="col-4">{{ expenseItem.description }}</div>
            <div class="col-5">{{ expenseItem.value | currency:'USD':'symbol':'1.2-2' }}</div>
            <div class="col-2">{{ expenseItem.percentage }}%</div>
            <div class="col-1 text-right item__delete"> <button class="btn item__delete-btn"> <i class="fas fa-trash"></i> </button> </div>
          </div>
        </div>
      </div>
      <!-- expenses -->
    </div>
    <!-- list -->
  </div>
  <!-- bottom -->
</div>
<!-- container -->

<!-- budget-list.component.html -->
<!-- Add this wherever you want to allow editing an item -->
<app-edit-item [item]="selectedItem" (editItem)="onEditItem($event)"></app-edit-item>
